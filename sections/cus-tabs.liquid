{% schema %}
{
  "name": "Custom Tabs Section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Your Heading Here"
    },
    {
      "type": "richtext",
      "id": "description",
      "label": "Description"
    },
    {
  "type": "image_picker",
  "id": "image_with_text_image",
  "label": "Image"
}

  ],
  "blocks": [
    {
      "type": "tab",
      "name": "Tab",
      "settings": [
        {
          "type": "text",
          "id": "tab_title",
          "label": "Tab Title",
          "default": "Tab Title Here"
        },
        {
          "type": "richtext",
          "id": "tab_content",
          "label": "Tab Content"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom Tabs Section"
    }
  ]
}
{% endschema %}

<div class="cus-tab-main-section">
  <div class="page-width">
    <div class="cus-tabs-wrapper">
      <div class="heading">
        <h2>{{ section.settings.heading }}</h2>
      </div>
      <div class="description">
        {{ section.settings.description }}
      </div>
      <div class="tabs-cus-main">
        {% if section.settings.image_with_text_image != blank %}
        <div class="tabs-cus-sub-lft">
          <div class="tabs-cus-sub">
          {{ section.settings.image_with_text_image | image_url: width: 1500 | image_tag }}

        </div>
          </div>
          
        {% endif %}
        <div class="tabs tabs-cus-sub-rt">
          <div class="tab-titles">
            {% for block in section.blocks %}
            <button class="tab-title" onclick="toggleTab({{ forloop.index }})" aria-expanded="{{ forloop.first | json }}">
              {{ block.settings.tab_title }}
            </button>
            {% endfor %}
          </div>
          {% for block in section.blocks %}
          <div class="tab-content" id="content-tab-{{ forloop.index }}" {% unless forloop.first %}style="display: none;"{% endunless %}>
            {{ block.settings.tab_content }}
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  function toggleTab(index) {
    var allContents = document.querySelectorAll('.tab-content');
    var selectedContent = document.getElementById('content-tab-' + index);
    
    allContents.forEach(function(content) {
      content.style.display = 'none';
    });

    selectedContent.style.display = 'block';
    // Update aria-expanded for accessibility
    document.querySelectorAll('.tab-title').forEach(function(title, idx) {
      title.setAttribute('aria-expanded', idx + 1 === index);
    });
  }
</script>


<style>
  .cus-tab-main-section{
    padding-top: 40px;
    padding-bottom: 40px;
  }
  .cus-tab-main-section .heading h2 {
    color: #06063B;
    text-align: center;
    margin: 0px;
    font-size: 30px;
    max-width: 60%;
    margin: 0 auto;
}
  .cus-tab-main-section .description p {
    font-size: 18px;
    text-align: center;
    max-width: 80%;
    margin: 0 auto;
    padding: 20px 0px;
    line-height: 130%;
}
  .tabs-cus-main {
    display: flex;
  }

  .tabs-cus-sub-lft {
  width: 30%;
  }

  .tabs-cus-sub-rt{
  width: 70%;
  }
.tabs-cus-sub img {
    width: 100%;
    height: 100%;
    object-fit: contain;
}

  .tabs-cus-sub {
    width: 340px;
    height: auto;
}


  .tabs-cus-sub-rt {
    display: flex;
    flex-direction: column;
  }
  .cus-tab-main-section .tab-titles {
    display: flex;
    justify-content: start;
    gap: 40px;
    padding: 0px 20px 20px 20px;
}
  .cus-tab-main-section .tab-title {
    cursor: pointer;
    padding: 10px;
    background: transparent;
    border: none;
    outline: none;
    color: #1840FB;
    font-family: Montserrat, sans-serif;
    font-weight: 600;
    font-size: 18px;
}
  .tab-title:hover, .tab-title[aria-expanded="true"] {
    color: #FFAA1F;
  }
  .cus-tab-main-section .tab-content {
    padding: 20px;
  }
   .cus-tab-main-section .tab-content ul {
    padding-left: 20px;
    margin: 0px;
}
@media (max-width: 768px) {
.tabs-cus-main {
    flex-direction: column;
}
  .tabs-cus-sub-lft {
    width: 100%;
}
  .tabs-cus-sub {
    width: 100%;
}
  .tabs-cus-sub-rt {
    width: 100%;
}
}

@media (max-width: 600px) {
  .cus-tab-main-section .tab-titles {
    scroll-behavior: smooth;
    overflow: scroll;
    scrollbar-width: none;
}
}
  </style>
  


